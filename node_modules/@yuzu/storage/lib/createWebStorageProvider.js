import WebStorageProvider from "storeit-provider-webstorage";
import JSONSerializer from "storeit-serializer-json";

export default function createWebStorageProvider(localOrSessionStorage) {
    return function () {
        var jsonSerializer = new JSONSerializer(); // TODO make this whole process easier.
        var providerOptions = {
            localOrSessionStorage,
            preferredItemSerializerName: jsonSerializer.name,
            metadataSerializerName: jsonSerializer.name,
            allSerializers: [jsonSerializer]
        };
        return new WebStorageProvider(providerOptions);
    };
}
