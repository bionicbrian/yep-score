# configuring storage

The storage component relies on outside components to configure what stores
should be created.

## How to add more stores
The `StoreRegistry` module looks up in the `App.config` which stores to create.

The simplest way for a component to declare what store(s) it requires is the following (inside it's index module's component class)

```javascript
onBeforeAppBootstrapped() {
    this.config.stores.push("myStuff");
}
```

This above will cause the `StoreRegistry` module to create a store w/ the namespace `myStuff`. It will also use the default `StorageProvider` for the application (The default storage provider depends on if the application is a native or web client.)

## What's a provider?

A provider provides the implementation to the store on how it will actually persist the data.

You can choose from the following providers:

### SessionStorage
Default for web client and not available to native clients.
Data is automatically cleared by the browser when the window/tab is closed.

### LocalStorage
Default for native client apps. Data persists even when app is shutdown/terminated.

### NullStorage
Essentially an in memory store. Similar to session as data is wiped when app is closed but also when refreshed.

### FileStorage
Store to file. Only available to native clients.

## How to specify a provider
When you don't want to use the default, you can pass an object to the config `stores` array in the following format

```typescript
interface StoreConfig {
    namespace: string;
    isLocalStorage: boolean;
    isNullStorage: boolean;
    isFileStorage: boolean;
}
```

Example usage

```javascript
onBeforeAppBootstrapped() {
    this.config.stores.push({ namespace: "myStuff", isNullStorage: true });
}
```

